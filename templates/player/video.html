{% extends 'base.html' %} {% block content %}
<main class="white" style="height: auto;">
  <header style="text-align: center;" class="p-5 search-gradient">
    WELCOME TO WORLDGIST VIDEOS
  </header>
  <hr />

  <section>
    {% for video in object_list %}
    <div class="container">
      <p>{{ video.name }}</p>
      <video width="600" height="400" id="vid" controls>
        <source src="{{ video.video_file.url }}" type="video/mp4" />
        Your browsers does not support video tag.
      </video>
    </div>
    <div class="container">
      <button type="button" onclick="startLoop()">Loop</button>
      <button type="button" onclick="stopLoop()">Stop Loop</button>
      <button type="button" onclick="checkLoop()">Check Loop</button>
      <hr />
    </div>
    {% empty %}
    <p>No videos uploaded.</p>
    {% endfor %}
  </section>
</main>

<script>
  let x = document.getElementById("vid");
  function startLoop() {
    x.loop = true;
    x.load();
  }
  function stopLoop() {
    x.loop = false;
    x.load();
  }
  function checkLoop() {
    alert(x.loop);
  }
</script>
{% endblock content %}
