{% extends 'base.html' %} {% block content %}
<main class="white" style="height: auto;">
  <header style="text-align: center;" class="p-5 search-gradient">
    WELCOME TO WORLDGIST MUSIC
  </header>
  <hr />

  <section>
    {% for music in object_list %}
    <div class="container">
      <p>{{ music.name }}</p>
      <audio controls id="aud">
        <source src="{{ music.audio_file.url }}" type="audio/mp3" />
        Your browsers does not support audio tag.
      </audio>
    </div>
    <div class="container">
      <button type="button" onclick="startLoop()">Loop</button>
      <button type="button" onclick="stopLoop()">Stop Loop</button>
      <button type="button" onclick="checkLoop()">Check Loop</button>
      <hr />
    </div>
    {% empty %}
    <div class="container alert alert-info">No Audio uploaded.</div>
    {% endfor %}
  </section>
</main>

<script>
  let x = document.getElementById("aud");
  function startLoop() {
    x.loop = true;
    x.load();
  }
  function stopLoop() {
    x.loop = false;
    x.load();
  }
  function checkLoop() {
    alert(x.loop);
  }
</script>
{% endblock content %}
